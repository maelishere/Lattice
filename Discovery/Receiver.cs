using System;using System.Net;namespace Lattice.Discovery{    using Bolt;    public class Receiver : Transport    {        private EndPoint m_remote;        public Action<Segment, EndPoint> OnReceive { get; set; }        public Receiver(int port, Mode mode) : base(mode)        {            m_socket.Bind(m_remote = Any(port, mode));            Log.Debug($"Receiving Broadcast at {m_socket.LocalEndPoint}");        }        public void Update()        {            ReceiveFrom(ref m_remote, (segment) =>            {                OnReceive?.Invoke(segment, m_remote);            });        }    }}